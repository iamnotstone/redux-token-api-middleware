!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ReduxTokenApiMiddleware=e():t.ReduxTokenApiMiddleware=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}t.exports=n},function(t,e,r){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};f.prototype.append=function(t,e){t=a(t),e=c(e);var r=this.map[t];this.map[t]=r?r+","+e:e},f.prototype.delete=function(t){delete this.map[a(t)]},f.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},f.prototype.set=function(t,e){this.map[a(t)]=c(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),s(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),s(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),s(t)},e.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var u=[301,302,303,307,308];_.redirect=function(t,e){if(-1===u.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=f,t.Request=v,t.Response=_,t.fetch=function(t,r){return new Promise(function(n,o){var i=new v(t,r),u=new XMLHttpRequest;u.onload=function(){var t,e,r={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new f,t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;n(new _(o,r))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.open(i.method,i.url,!0),"include"===i.credentials&&(u.withCredentials=!0),"responseType"in u&&e.blob&&(u.responseType="blob"),i.headers.forEach(function(t,e){u.setRequestHeader(e,t)}),u.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function s(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function p(t){var e=new FileReader,r=h(e);return e.readAsArrayBuffer(t),r}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&n(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,r,n=l(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=h(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var r,n,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),i.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function _(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0)},function(t,e,r){"use strict";r(2),t.exports=self.fetch.bind(self)},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,u=0,a=0,c="";i=e.charAt(a++);~i&&(r=u%4?64*r+i:i,u++%4)?c+=String.fromCharCode(255&r>>(-2*u&6)):0)i=n.indexOf(i);return c}},function(t,e,r){"use strict";var n=r(4);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(n(t).replace(/(.)/g,function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(e)}catch(t){return n(e)}}},function(t,e,r){"use strict";var n=r(5);function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(n(t.split(".")[r]))}catch(t){throw new o("Invalid token specified: "+t.message)}},t.exports.InvalidTokenError=o},function(t,e,r){"use strict";(function(t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="Expected a function",u="__lodash_hash_undefined__",a=1,c=2,s=1/0,f=9007199254740991,l="[object Arguments]",h="[object Array]",p="[object Boolean]",d="[object Date]",y="[object Error]",v="[object Function]",b="[object GeneratorFunction]",_="[object Map]",g="[object Number]",m="[object Object]",j="[object RegExp]",w="[object Set]",A="[object String]",k="[object Symbol]",O="[object ArrayBuffer]",T="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/,P=/^\./,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,F=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[l]=B[h]=B[O]=B[p]=B[T]=B[d]=B[y]=B[v]=B[_]=B[g]=B[m]=B[j]=B[w]=B[A]=B["[object WeakMap]"]=!1;var C="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,q="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,U=C||q||Function("return this")(),D="object"==n(e)&&e&&!e.nodeType&&e,M=D&&"object"==n(r)&&r&&!r.nodeType&&r,L=M&&M.exports===D&&C.process,N=function(){try{return L&&L.binding("util")}catch(t){}}(),$=N&&N.isTypedArray;function K(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function G(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t,e){return function(r){return t(e(r))}}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var J,X=Array.prototype,Y=Function.prototype,Q=Object.prototype,Z=U["__core-js_shared__"],tt=(J=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",et=Y.toString,rt=Q.hasOwnProperty,nt=Q.toString,ot=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=U.Symbol,ut=U.Uint8Array,at=W(Object.getPrototypeOf,Object),ct=Q.propertyIsEnumerable,st=X.splice,ft=Object.getOwnPropertySymbols,lt=W(Object.keys,Object),ht=Kt(U,"DataView"),pt=Kt(U,"Map"),dt=Kt(U,"Promise"),yt=Kt(U,"Set"),vt=Kt(U,"WeakMap"),bt=Kt(Object,"create"),_t=te(ht),gt=te(pt),mt=te(dt),jt=te(yt),wt=te(vt),At=it?it.prototype:void 0,kt=At?At.valueOf:void 0,Ot=At?At.toString:void 0;function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,r=t?t.length:0;for(this.__data__=new Et;++e<r;)this.add(t[e])}function xt(t){this.__data__=new St(t)}function Rt(t,e){var r=oe(t)||ne(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!rt.call(t,i)||o&&("length"==i||Wt(i,n))||r.push(i);return r}function Ft(t,e){for(var r=t.length;r--;)if(re(t[r][0],e))return r;return-1}function It(t,e){for(var r=0,n=(e=Vt(e,t)?[e]:Mt(e)).length;null!=t&&r<n;)t=t[Zt(e[r++])];return r&&r==n?t:void 0}function Bt(t,e){return null!=t&&e in Object(t)}function Ct(t,e,r,n,o){return t===e||(null==t||null==e||!ce(t)&&!se(e)?t!=t&&e!=e:function(t,e,r,n,o,i){var u=oe(t),s=oe(e),f=h,v=h;u||(f=(f=Ht(t))==l?m:f);s||(v=(v=Ht(e))==l?m:v);var b=f==m&&!z(t),S=v==m&&!z(e),E=f==v;if(E&&!b)return i||(i=new xt),u||he(t)?Lt(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!n(new ut(t),new ut(e)));case p:case d:case g:return re(+t,+e);case y:return t.name==e.name&&t.message==e.message;case j:case A:return t==e+"";case _:var s=H;case w:var f=i&c;if(s||(s=V),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;i|=a,u.set(t,e);var h=Lt(s(t),s(e),n,o,i,u);return u.delete(t),h;case k:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,f,r,n,o,i);if(!(o&c)){var P=b&&rt.call(t,"__wrapped__"),x=S&&rt.call(e,"__wrapped__");if(P||x){var R=P?t.value():t,F=x?e.value():e;return i||(i=new xt),r(R,F,n,o,i)}}if(!E)return!1;return i||(i=new xt),function(t,e,r,n,o,i){var u=o&c,a=pe(t),s=a.length,f=pe(e).length;if(s!=f&&!u)return!1;for(var l=s;l--;){var h=a[l];if(!(u?h in e:rt.call(e,h)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<s;){h=a[l];var v=t[h],b=e[h];if(n)var _=u?n(b,v,h,e,t,i):n(v,b,h,t,e,i);if(!(void 0===_?v===b||r(v,b,n,o,i):_)){d=!1;break}y||(y="constructor"==h)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,r,n,o,i)}(t,e,Ct,r,n,o))}function qt(t){return!(!ce(t)||tt&&tt in t)&&(ue(t)||z(t)?ot:F).test(te(t))}function Ut(t){return"function"==typeof t?t:null==t?ye:"object"==(void 0===t?"undefined":n(t))?oe(t)?function(t,e){if(Vt(t)&&Xt(e))return Yt(Zt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:It(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,o=-1,i=(e=Vt(e,t)?[e]:Mt(e)).length;for(;++o<i;){var u=Zt(e[o]);if(!(n=null!=t&&r(t,u)))break;t=t[u]}if(n)return n;return!!(i=t?t.length:0)&&ae(i)&&Wt(u,i)&&(oe(t)||ne(t))}(t,e,Bt)}(r,t):Ct(e,n,void 0,a|c)}}(t[0],t[1]):function(t){var e=function(t){var e=pe(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Xt(o)]}return e}(t);if(1==e.length&&e[0][2])return Yt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var s=r[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var f=(s=r[o])[0],l=t[f],h=s[1];if(u&&s[2]){if(void 0===l&&!(f in t))return!1}else{var p=new xt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?Ct(h,l,n,a|c,p):d))return!1}}return!0}(r,t,e)}}(t):Vt(e=t)?(r=Zt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return It(e,t)}}(e);var e,r}function Dt(t){if(!ce(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Jt(t),r=[];for(var n in t)("constructor"!=n||!e&&rt.call(t,n))&&r.push(n);return r}function Mt(t){return oe(t)?t:Qt(t)}function Lt(t,e,r,n,o,i){var u=o&c,s=t.length,f=e.length;if(s!=f&&!(u&&f>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var h=-1,p=!0,d=o&a?new Pt:void 0;for(i.set(t,e),i.set(e,t);++h<s;){var y=t[h],v=e[h];if(n)var b=u?n(v,y,h,e,t,i):n(y,v,h,t,e,i);if(void 0!==b){if(b)continue;p=!1;break}if(d){if(!G(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,o,i)))return d.add(e)})){p=!1;break}}else if(y!==v&&!r(y,v,n,o,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function Nt(t){return function(t,e,r){var n=e(t);return oe(t)?n:K(n,r(t))}(t,de,zt)}function $t(t,e){var r,o,i=t.__data__;return("string"==(o=void 0===(r=e)?"undefined":n(r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Kt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return qt(r)?r:void 0}Tt.prototype.clear=function(){this.__data__=bt?bt(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===u?void 0:r}return rt.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:rt.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?u:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Ft(e,t);return!(r<0||(r==e.length-1?e.pop():st.call(e,r,1),0))},St.prototype.get=function(t){var e=this.__data__,r=Ft(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Ft(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Ft(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Et.prototype.clear=function(){this.__data__={hash:new Tt,map:new(pt||St),string:new Tt}},Et.prototype.delete=function(t){return $t(this,t).delete(t)},Et.prototype.get=function(t){return $t(this,t).get(t)},Et.prototype.has=function(t){return $t(this,t).has(t)},Et.prototype.set=function(t,e){return $t(this,t).set(t,e),this},Pt.prototype.add=Pt.prototype.push=function(t){return this.__data__.set(t,u),this},Pt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new St},xt.prototype.delete=function(t){return this.__data__.delete(t)},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var n=r.__data__;if(!pt||n.length<o-1)return n.push([t,e]),this;r=this.__data__=new Et(n)}return r.set(t,e),this};var Gt=ft?W(ft,Object):ve,zt=ft?function(t){for(var e=[];t;)K(e,Gt(t)),t=at(t);return e}:ve,Ht=function(t){return nt.call(t)};function Wt(t,e){return!!(e=null==e?f:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t,e){if(oe(t))return!1;var r=void 0===t?"undefined":n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!fe(t))||(E.test(t)||!S.test(t)||null!=e&&t in Object(e))}function Jt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Q)}function Xt(t){return t==t&&!ce(t)}function Yt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ht&&Ht(new ht(new ArrayBuffer(1)))!=T||pt&&Ht(new pt)!=_||dt&&"[object Promise]"!=Ht(dt.resolve())||yt&&Ht(new yt)!=w||vt&&"[object WeakMap]"!=Ht(new vt))&&(Ht=function(t){var e=nt.call(t),r=e==m?t.constructor:void 0,n=r?te(r):void 0;if(n)switch(n){case _t:return T;case gt:return _;case mt:return"[object Promise]";case jt:return w;case wt:return"[object WeakMap]"}return e});var Qt=ee(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(fe(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}(e);var r=[];return P.test(t)&&r.push(""),t.replace(x,function(t,e,n,o){r.push(n?o.replace(R,"$1"):e||t)}),r});function Zt(t){if("string"==typeof t||fe(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function te(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ee(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(ee.Cache||Et),r}function re(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return se(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!ct.call(t,"callee")||nt.call(t)==l)}ee.Cache=Et;var oe=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!ue(t)}function ue(t){var e=ce(t)?nt.call(t):"";return e==v||e==b}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ce(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function se(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}function fe(t){return"symbol"==(void 0===t?"undefined":n(t))||se(t)&&nt.call(t)==k}var le,he=$?(le=$,function(t){return le(t)}):function(t){return se(t)&&ae(t.length)&&!!B[nt.call(t)]};function pe(t){return ie(t)?Rt(t):function(t){if(!Jt(t))return lt(t);var e=[];for(var r in Object(t))rt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}function de(t){return ie(t)?Rt(t,!0):Dt(t)}function ye(t){return t}function ve(){return[]}r.exports=function(t,e){return function(t,e){return null==t?{}:function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var u=e[n],a=t[u];r(a,u)&&(i[u]=a)}return i}(t,Nt(t),Ut(e))}(t,function(t){if("function"!=typeof t)throw new TypeError(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}(Ut(e)))}}).call(this,r(0),r(1)(t))},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=9007199254740991,i="[object Function]",u="[object GeneratorFunction]",a=Object.prototype.toString;function c(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var e=function(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}(t)?a.call(t):"";return e==i||e==u}(t)}t.exports=function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&c(t)}},function(t,e,r){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="[object AsyncFunction]",o="[object Function]",i="[object GeneratorFunction]",u="[object Null]",a="[object Proxy]",c="[object Undefined]",s="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,f="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,l=s||f||Function("return this")(),h=Object.prototype,p=h.hasOwnProperty,d=h.toString,y=l.Symbol,v=y?y.toStringTag:void 0;function b(t){return null==t?void 0===t?c:u:v&&v in Object(t)?function(t){var e=p.call(t,v),r=t[v];try{t[v]=void 0;var n=!0}catch(t){}var o=d.call(t);n&&(e?t[v]=r:delete t[v]);return o}(t):function(t){return d.call(t)}(t)}t.exports=function(t){if(!function(t){var e=void 0===t?"undefined":r(t);return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=b(t);return e==o||e==i||e==n||e==a}}).call(this,r(0))},function(t,e,r){"use strict";t.exports=function(t){return void 0===t}},function(t,e,r){"use strict";(function(t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="Expected a function",u="__lodash_hash_undefined__",a=1,c=2,s=1/0,f=9007199254740991,l="[object Arguments]",h="[object Array]",p="[object Boolean]",d="[object Date]",y="[object Error]",v="[object Function]",b="[object GeneratorFunction]",_="[object Map]",g="[object Number]",m="[object Object]",j="[object RegExp]",w="[object Set]",A="[object String]",k="[object Symbol]",O="[object ArrayBuffer]",T="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/,P=/^\./,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,F=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[l]=B[h]=B[O]=B[p]=B[T]=B[d]=B[y]=B[v]=B[_]=B[g]=B[m]=B[j]=B[w]=B[A]=B["[object WeakMap]"]=!1;var C="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,q="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,U=C||q||Function("return this")(),D="object"==n(e)&&e&&!e.nodeType&&e,M=D&&"object"==n(r)&&r&&!r.nodeType&&r,L=M&&M.exports===D&&C.process,N=function(){try{return L&&L.binding("util")}catch(t){}}(),$=N&&N.isTypedArray;function K(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function G(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var V,J,X,Y=Array.prototype,Q=Function.prototype,Z=Object.prototype,tt=U["__core-js_shared__"],et=(V=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",rt=Q.toString,nt=Z.hasOwnProperty,ot=Z.toString,it=RegExp("^"+rt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=U.Symbol,at=U.Uint8Array,ct=Z.propertyIsEnumerable,st=Y.splice,ft=(J=Object.keys,X=Object,function(t){return J(X(t))}),lt=Ht(U,"DataView"),ht=Ht(U,"Map"),pt=Ht(U,"Promise"),dt=Ht(U,"Set"),yt=Ht(U,"WeakMap"),vt=Ht(Object,"create"),bt=te(lt),_t=te(ht),gt=te(pt),mt=te(dt),jt=te(yt),wt=ut?ut.prototype:void 0,At=wt?wt.valueOf:void 0,kt=wt?wt.toString:void 0;function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.__data__=new St;++e<r;)this.add(t[e])}function Pt(t){this.__data__=new Tt(t)}function xt(t,e){var r=oe(t)||ne(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!nt.call(t,i)||o&&("length"==i||Vt(i,n))||r.push(i);return r}function Rt(t,e){for(var r=t.length;r--;)if(re(t[r][0],e))return r;return-1}Ot.prototype.clear=function(){this.__data__=vt?vt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(vt){var r=e[t];return r===u?void 0:r}return nt.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:nt.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?u:e,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(t){var e=this.__data__,r=Rt(e,t);return!(r<0||(r==e.length-1?e.pop():st.call(e,r,1),0))},Tt.prototype.get=function(t){var e=this.__data__,r=Rt(e,t);return r<0?void 0:e[r][1]},Tt.prototype.has=function(t){return Rt(this.__data__,t)>-1},Tt.prototype.set=function(t,e){var r=this.__data__,n=Rt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new Ot,map:new(ht||Tt),string:new Ot}},St.prototype.delete=function(t){return zt(this,t).delete(t)},St.prototype.get=function(t){return zt(this,t).get(t)},St.prototype.has=function(t){return zt(this,t).has(t)},St.prototype.set=function(t,e){return zt(this,t).set(t,e),this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,u),this},Et.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new Tt},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Tt){var n=r.__data__;if(!ht||n.length<o-1)return n.push([t,e]),this;r=this.__data__=new St(n)}return r.set(t,e),this};var Ft,It,Bt=(Ft=function(t,e){return t&&Ct(t,e,he)},function(t,e){if(null==t)return t;if(!ie(t))return Ft(t,e);for(var r=t.length,n=It?r:-1,o=Object(t);(It?n--:++n<r)&&!1!==e(o[n],n,o););return t}),Ct=function(t){return function(e,r,n){for(var o=-1,i=Object(e),u=n(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===r(i[c],c,i))break}return e}}();function qt(t,e){for(var r=0,n=(e=Jt(e,t)?[e]:Kt(e)).length;null!=t&&r<n;)t=t[Zt(e[r++])];return r&&r==n?t:void 0}function Ut(t,e){return null!=t&&e in Object(t)}function Dt(t,e,r,n,o){return t===e||(null==t||null==e||!ce(t)&&!se(e)?t!=t&&e!=e:function(t,e,r,n,o,i){var u=oe(t),s=oe(e),f=h,v=h;u||(f=(f=Wt(t))==l?m:f);s||(v=(v=Wt(e))==l?m:v);var b=f==m&&!z(t),S=v==m&&!z(e),E=f==v;if(E&&!b)return i||(i=new Pt),u||le(t)?Gt(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!n(new at(t),new at(e)));case p:case d:case g:return re(+t,+e);case y:return t.name==e.name&&t.message==e.message;case j:case A:return t==e+"";case _:var s=H;case w:var f=i&c;if(s||(s=W),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;i|=a,u.set(t,e);var h=Gt(s(t),s(e),n,o,i,u);return u.delete(t),h;case k:if(At)return At.call(t)==At.call(e)}return!1}(t,e,f,r,n,o,i);if(!(o&c)){var P=b&&nt.call(t,"__wrapped__"),x=S&&nt.call(e,"__wrapped__");if(P||x){var R=P?t.value():t,F=x?e.value():e;return i||(i=new Pt),r(R,F,n,o,i)}}if(!E)return!1;return i||(i=new Pt),function(t,e,r,n,o,i){var u=o&c,a=he(t),s=a.length,f=he(e).length;if(s!=f&&!u)return!1;for(var l=s;l--;){var h=a[l];if(!(u?h in e:nt.call(e,h)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<s;){h=a[l];var v=t[h],b=e[h];if(n)var _=u?n(b,v,h,e,t,i):n(v,b,h,t,e,i);if(!(void 0===_?v===b||r(v,b,n,o,i):_)){d=!1;break}y||(y="constructor"==h)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,r,n,o,i)}(t,e,Dt,r,n,o))}function Mt(t){return!(!ce(t)||et&&et in t)&&(ue(t)||z(t)?it:F).test(te(t))}function Lt(t){return"function"==typeof t?t:null==t?pe:"object"==(void 0===t?"undefined":n(t))?oe(t)?function(t,e){if(Jt(t)&&Xt(e))return Yt(Zt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:qt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,o=-1,i=(e=Jt(e,t)?[e]:Kt(e)).length;for(;++o<i;){var u=Zt(e[o]);if(!(n=null!=t&&r(t,u)))break;t=t[u]}if(n)return n;return!!(i=t?t.length:0)&&ae(i)&&Vt(u,i)&&(oe(t)||ne(t))}(t,e,Ut)}(r,t):Dt(e,n,void 0,a|c)}}(t[0],t[1]):function(t){var e=function(t){var e=he(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Xt(o)]}return e}(t);if(1==e.length&&e[0][2])return Yt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var s=r[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var f=(s=r[o])[0],l=t[f],h=s[1];if(u&&s[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Pt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?Dt(h,l,n,a|c,p):d))return!1}}return!0}(r,t,e)}}(t):Jt(e=t)?(r=Zt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return qt(e,t)}}(e);var e,r}function Nt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Z,e!==n)return ft(t);var e,r,n,o=[];for(var i in Object(t))nt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function $t(t,e){var r=-1,n=ie(t)?Array(t.length):[];return Bt(t,function(t,o,i){n[++r]=e(t,o,i)}),n}function Kt(t){return oe(t)?t:Qt(t)}function Gt(t,e,r,n,o,i){var u=o&c,s=t.length,f=e.length;if(s!=f&&!(u&&f>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var h=-1,p=!0,d=o&a?new Et:void 0;for(i.set(t,e),i.set(e,t);++h<s;){var y=t[h],v=e[h];if(n)var b=u?n(v,y,h,e,t,i):n(y,v,h,t,e,i);if(void 0!==b){if(b)continue;p=!1;break}if(d){if(!G(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,o,i)))return d.add(e)})){p=!1;break}}else if(y!==v&&!r(y,v,n,o,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function zt(t,e){var r,o,i=t.__data__;return("string"==(o=void 0===(r=e)?"undefined":n(r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ht(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(r)?r:void 0}var Wt=function(t){return ot.call(t)};function Vt(t,e){return!!(e=null==e?f:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function Jt(t,e){if(oe(t))return!1;var r=void 0===t?"undefined":n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!fe(t))||(E.test(t)||!S.test(t)||null!=e&&t in Object(e))}function Xt(t){return t==t&&!ce(t)}function Yt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(lt&&Wt(new lt(new ArrayBuffer(1)))!=T||ht&&Wt(new ht)!=_||pt&&"[object Promise]"!=Wt(pt.resolve())||dt&&Wt(new dt)!=w||yt&&"[object WeakMap]"!=Wt(new yt))&&(Wt=function(t){var e=ot.call(t),r=e==m?t.constructor:void 0,n=r?te(r):void 0;if(n)switch(n){case bt:return T;case _t:return _;case gt:return"[object Promise]";case mt:return w;case jt:return"[object WeakMap]"}return e});var Qt=ee(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(fe(t))return kt?kt.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}(e);var r=[];return P.test(t)&&r.push(""),t.replace(x,function(t,e,n,o){r.push(n?o.replace(R,"$1"):e||t)}),r});function Zt(t){if("string"==typeof t||fe(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function te(t){if(null!=t){try{return rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ee(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(ee.Cache||St),r}function re(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return se(t)&&ie(t)}(t)&&nt.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==l)}ee.Cache=St;var oe=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!ue(t)}function ue(t){var e=ce(t)?ot.call(t):"";return e==v||e==b}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ce(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function se(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}function fe(t){return"symbol"==(void 0===t?"undefined":n(t))||se(t)&&ot.call(t)==k}var le=$?function(t){return function(e){return t(e)}}($):function(t){return se(t)&&ae(t.length)&&!!B[ot.call(t)]};function he(t){return ie(t)?xt(t):Nt(t)}function pe(t){return t}r.exports=function(t,e){return(oe(t)?K:$t)(t,Lt(e))}}).call(this,r(0),r(1)(t))},function(t,e,r){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=1/0,o=1.7976931348623157e308,i=NaN,u="[object Symbol]",a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt,h="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,p="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,d=h||p||Function("return this")(),y=Object.prototype.toString,v=d.Symbol,b=v?v.prototype:void 0,_=b?b.toString:void 0;function g(t){if("string"==typeof t)return t;if(j(t))return _?_.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function m(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function j(t){return"symbol"==(void 0===t?"undefined":r(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&y.call(t)==u}function w(t){return t?(t=function(t){if("number"==typeof t)return t;if(j(t))return i;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=s.test(t);return r||f.test(t)?l(t.slice(2),r?2:8):c.test(t)?i:+t}(t))===n||t===-n?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}t.exports=function(t,e,r){var n,o,i,u;return t=null==(n=t)?"":g(n),o=function(t){var e=w(t),r=e%1;return e==e?r?e-r:e:0}(r),i=0,u=t.length,o==o&&(void 0!==u&&(o=o<=u?o:u),void 0!==i&&(o=o>=i?o:i)),r=o,e=g(e),t.slice(r,r+e.length)==e}}).call(this,r(0))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenApiService=e.TOKEN_STORAGE_KEY=e.CALL_TOKEN_API=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.createAsyncAction=g,e.storeToken=w,e.retrieveToken=A,e.removeToken=function(t){localStorage.removeItem(t)},e.checkTokenFreshness=k,e.shouldRequestNewToken=O,e.createApiAction=function(t){return function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t}({},p,t)},e.actionAsPromise=function(t,e,r){var n=r.actionKey||p,o=t()[n];if(o){var i=new T(o,e,r);return i.call()}return Promise.reject("not an API action!")},e.createTokenApiMiddleware=function(t){t||(t={});return function(e){return function(r){return function(n){var o=n[t.actionKey];if(void 0===o){if(void 0===n[p])return r(n);o=n[p]}var i=new T(o,e.dispatch,t);return i.call()}}}};var o=h(r(12)),i=h(r(11)),u=h(r(10)),a=h(r(9)),c=h(r(8)),s=h(r(7)),f=h(r(6)),l=h(r(3));function h(t){return t&&t.__esModule?t:{default:t}}var p=e.CALL_TOKEN_API=Symbol("Call API"),d=e.TOKEN_STORAGE_KEY="reduxMiddlewareAuthToken",y=300,v=function(t){this.name="NotImplemented",this.message=t||"Method not implemented",this.stack=(new Error).stack};function b(t){return t.ok?t:t.text().then(function(t){return Promise.reject(t)})}function _(t){var e=t.headers.get("Content-Type");return e&&(0,o.default)(e,"application/json")?t.json():t.redirected?{redirected:!0,url:t.url}:t.text()}function g(t,e,r){var n={type:t+"_"+e,payload:r,meta:{asyncStep:e}};return r&&r instanceof Error&&Object.assign(n.meta,{error:!0}),n}function m(t,e){return g(t,"START",e)}function j(t,e){return g(t,"UNCOMPLETED",new TypeError(e))}function w(t,e){var r=e.token;return localStorage.setItem(t,JSON.stringify(r)),r}function A(t){var e=localStorage.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch(t){if(t instanceof SyntaxError)return null;throw t}}function k(t,e){return(0,f.default)(t).exp-.001*(new Date).getTime()<e}function O(){if(!this.refreshToken)return!1;var t=this.retrieveToken();return!!t&&k(t,this.minTokenLifespan)}(v.prototype=Object.create(Error.prototype)).constructor=v;var T=e.TokenApiService=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiAction=e,this.meta=this.apiAction.meta||{},this.dispatch=r,this.config=n,this.checkTokenFreshness=this.configOrDefault("checkTokenFreshness"),this.retrieveToken=this.configOrDefault("retrieveToken"),this.shouldRequestNewToken=this.configOrDefault("shouldRequestNewToken"),this.storeToken=this.configOrDefault("storeToken"),this.addTokenToRequest=this.configOrDefault("addTokenToRequest"),this.refreshAction=this.configOrDefault("refreshAction"),this.checkResponseIsOk=this.configOrDefault("checkResponseIsOk"),this.tokenStorageKey=this.config.tokenStorageKey||d,this.minTokenLifespan=this.config.minTokenLifespan||y,this.actionKey=this.config.actionKey||p,this.preProcessRequest=this.config.preProcessRequest,this.refreshToken=this.config.refreshToken||!1,this.shouldRequestNewToken=this.configOrDefault("shouldRequestNewToken"),this.storeToken=this.storeToken.bind(this,this.tokenStorageKey),this.retrieveToken=this.retrieveToken.bind(this,this.tokenStorageKey)}return n(t,[{key:"configOrDefault",value:function(t){return this.config[t]||this.defaultMethods[t]}},{key:"configOrNotImplemented",value:function(t){var e=this.config[t];if(!e)throw new v("Please provide "+t+" in config");return e}},{key:"completeApiRequest",value:function(t,e){return this.dispatch(function(t,e){return g(t,"COMPLETED",e)}(t,e)),e}},{key:"defaultCatchApiRequestError",value:function(t,e){return e}},{key:"catchApiRequestError",value:function(t,e){var r=this.configOrDefault("catchApiRequestError");return this.dispatch(j(t,e)),r(t,e)}},{key:"apiRequest",value:function(t,e){var r=e.meta||{},n=this.completeApiRequest.bind(this,e.type),o=this.catchApiRequestError.bind(this,e.type);return l.default.apply(this,t).then(this.checkResponseIsOk).then(_).then(r.responseHandler).then(n).catch(o)}},{key:"apiRequestPromise",value:function(t){return function(){return l.default.apply(null,t).then(b).then(_)}}},{key:"apiCallFromAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getApiFetchArgsFromActionPayload(t.payload,e);return this.dispatch(m(t.type,t.payload)),this.apiRequest(r,t,this.store)}},{key:"multipleApiCallsFromAction",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.meta||{},o=(0,i.default)(t.payload,function(t){var n=e.getApiFetchArgsFromActionPayload(t,r);return e.apiRequestPromise(n)()}),u=this.completeApiRequest.bind(this,t.type),a=this.catchApiRequestError.bind(this,t.type);return this.dispatch(m(t.type,t.payload)),Promise.all(o).then(n.responseHandler).then(u).catch(a)}},{key:"defaultAddTokenToRequest",value:function(t,e,r,n){return{headers:Object.assign({Authorization:"JWT "+n},t),endpoint:e,body:r}}},{key:"getApiFetchArgsFromActionPayload",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.headers,o=t.endpoint,i=t.method,c=t.body,f=t.credentials,l=t.isAuth;if((0,u.default)(i)&&(i="GET"),n=Object.assign({"Content-Type":"application/json"},n),e&&r&&l){var h=this.addTokenToRequest(n,o,c,e);n=h.headers,o=h.endpoint,c=h.body}if((0,a.default)(this.preProcessRequest)){var p=this.preProcessRequest(n,o,c);n=p.headers,o=p.endpoint,c=p.body}return[o,(0,s.default)({method:i,body:c,credentials:f,headers:n},u.default)]}},{key:"call",value:function(){var t=this;if(this.shouldRequestNewToken()&&!this.apiAction.noRefresh){var e=this.refreshAction(this.token)[p],r=e.meta||{},n=this.getApiFetchArgsFromActionPayload(e.payload,this.token,r.authenticate);return l.default.apply(null,n).then(this.checkResponseIsOk).then(_).then(this.storeToken).then(function(e){t.curriedApiCallMethod(e)}).catch(function(e){t.dispatch(j(t.apiAction.type,e))})}return this.curriedApiCallMethod(this.token)}},{key:"defaultMethods",get:function(){return{checkTokenFreshness:k,retrieveToken:A,storeToken:w,refreshAction:function(){},shouldRequestNewToken:O,addTokenToRequest:this.defaultAddTokenToRequest,catchApiRequestError:this.defaultCatchApiRequestError,checkResponseIsOk:b}}},{key:"apiCallMethod",get:function(){return(0,c.default)(this.apiAction.payload)?this.multipleApiCallsFromAction:this.apiCallFromAction}},{key:"curriedApiCallMethod",get:function(){return this.apiCallMethod.bind(this,this.apiAction)}},{key:"token",get:function(){return this.retrieveToken()}}]),t}()}])});